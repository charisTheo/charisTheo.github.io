"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var app=angular.module("Portfolio",["ngMaterial","ngAnimate"]);app.config(["$mdThemingProvider",function(e){e.theme("default").primaryPalette("deep-purple").accentPalette("green")}]).directive("svgLogo",function(){return{scope:!1,restrict:"E",templateUrl:"./../partials/compressed/svgLogo.html"}}).directive("socialLinks",function(){return{scope:!1,restrict:"E",templateUrl:"/partials/compressed/socialLinks.html"}}).directive("sideNavList",function(){return{scope:{onContactClick:"&"},restrict:"E",templateUrl:"/partials/compressed/sidenavList.html"}}).directive("imagePicker",function(){return{scope:!1,restrict:"E",templateUrl:"/partials/compressed/imagePicker.html",link:function(t,e,n){n.images&&(t.images=JSON.parse(n.images),t.selectedImage=0,t.selectImage=function(e){t.selectedImage=e})}}}).directive("frameworksImages",function(){return{scope:!1,restrict:"E",templateUrl:"/partials/compressed/frameworksImages.html",link:function(e,t,n){n.images&&(e.images=JSON.parse(n.images))}}}),function(){function e(n,e,t,o,r,i,a,c){e.get("projects-data.json").then(function(e){n.projects=e.data}),n.$mdMedia=o,n.shareButtonListener=r.listener,n.copyToClipboard=r.copyToClipboard,n.nightMode=!1,n.showPWAInstallButton=!1,n.deferredPromptEvent=void 0,n.documentLoaded=!1,n.twitterButtonInitialised=!1,n.cardToggle=!1,n.selectedCardIndex=void 0,n.selectedCard=void 0,a.yOffset=72,n.toggleSocialLinks=function(){n.showSocialLinks=!n.showSocialLinks,t("left").isOpen&&t("left").toggle()},n.$watch("$viewContentLoaded",function(){if(o("(prefers-color-scheme: dark)")&&(n.nightMode=!0),n.documentLoaded=!0,d||u||(console.log("show install button"),n.showPWAInstallButton=!0),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js",{scope:"/"}).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){switch(e.state){case"installing":navigator.serviceWorker.controller&&c.show(c.simple().textContent('A new version of the website is available ðŸ™‹. <a onclick="window.location.reload()">Reload</a> the page to see the new goodness ðŸ’ '))}}},console.log("Service Worker registration succeeded. Scope is "+t.scope)}).catch(function(e){console.log("Service Worker registration failed with "+e)}),navigator.onLine){var e=document.createElement("script");e.type="text/javascript",e.src="https://platform.twitter.com/widgets.js",e.charset="utf-8",e.async=!0,document.querySelector("head").appendChild(e),e.onload=function(){n.twitterButtonInitialised=!0}}else l();setTimeout(function(){document.querySelectorAll(".md-button").forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget.getAttribute("data-analytics");if(t){var n=t.split(" "),o=n.splice(0,1)[0],r=n.join(" ");gtag("event","click",_defineProperty({},o,r))}})})},1e3)}),n.selectCard=function(e,t){n.selectedCardIndex!=t?(n.selectedCard=n.projects[t],n.selectedCardIndex=t,i.hash("project"+t),a("project"+t)):(n.selectedCardIndex=void 0,n.selectedCard=void 0,window.history.replaceState({},document.title,"/")),e.cancelBubble=!0},n.onFavouriteClick=function(e){var t=e.currentTarget,n=t.children[0].textContent;console.log(n),t.children[0].textContent="favorite"==n?"favorite_border":"favorite",e.cancelBubble=!0},n.toggleSideNav=function(){t("left").toggle()},n.installPWA=function(){console.log("Installing PWA"),n.showPWAInstallButton=!1,n.deferredPromptEvent.prompt(),n.deferredPromptEvent.userChoice.then(function(e){ga("send","event","A2HS",e.outcome),n.deferredPromptEvent=null})},window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),n.deferredPromptEvent=e}),window.addEventListener("offline",function(){l()}),window.addEventListener("online",function(){s()});var l=function(){c.show(c.simple().textContent("You are offline ðŸ“´")),function(){var t=document.querySelectorAll(".project");caches.open("runtime-projects-media").then(function(e){t.forEach(function(t){e.keys().then(function(e){e.filter(function(e){return-1!==e.url.indexOf(t.id)}).length||t.classList.add("unavailable-offline")})})})}()},s=function(){c.show(c.simple().textContent("You are back online! ðŸŽ‰")),document.querySelectorAll(".project").forEach(function(e){e.classList.remove("unavailable-offline")})},d=/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,u=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone}angular.module("Portfolio").controller("PortfolioCtrl",e),e.$inject=["$scope","$http","$mdSidenav","$mdMedia","ShareListener","$location","$anchorScroll","$mdToast"]}(),angular.module("Portfolio").factory("ShareListener",["$mdToast",function(n){function o(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),n.show(n.simple().textContent("Link copied to clipboard!").hideDelay(2e3))}return{listener:function(e){e.preventDefault();var t=e.currentTarget;navigator.share?navigator.share({title:"CharisTheo",text:t.children[0].textContent,url:t.href}).then(function(){return console.log("Successful share")}).catch(function(e){return console.log("Error sharing",e)}):o(t.href),e.cancelBubble=!0},copyToClipboard:o}}]);
//# sourceMappingURL=portfolio-bundle.min.js.map
